<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Simple Test</title>
    <style>
        body { margin: 0; padding: 0; background: #000; }
        #intro-root { width: 100vw; height: 100vh; }
        canvas { display: block; }
    </style>
</head>
<body>
    <div id="intro-root">
        <canvas id="intro"></canvas>
    </div>
    <script type="module">
        import * as THREE from './js/three.module.min.js';
        
        console.log('Testing basic Three.js...');
        
        // Create scene
        const scene = new THREE.Scene();
        scene.background = new THREE.Color(0x000011);
        
        // Create camera
        const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
        camera.position.set(0, 5, 10);
        
        // Create renderer
        const renderer = new THREE.WebGLRenderer({ canvas: document.getElementById('intro') });
        renderer.setSize(window.innerWidth, window.innerHeight);
        
        // Add lighting
        const ambientLight = new THREE.AmbientLight(0x404040, 0.8);
        scene.add(ambientLight);
        
        const directionalLight = new THREE.DirectionalLight(0xffffff, 1.0);
        directionalLight.position.set(10, 20, 5);
        scene.add(directionalLight);
        
        // Create a simple character
        const characterGroup = new THREE.Group();
        
        // Body
        const bodyGeometry = new THREE.CapsuleGeometry(0.3, 1.2, 4, 8);
        const bodyMaterial = new THREE.MeshLambertMaterial({ color: 0x4169E1 });
        const body = new THREE.Mesh(bodyGeometry, bodyMaterial);
        body.position.y = 0.6;
        characterGroup.add(body);
        
        // Head
        const headGeometry = new THREE.SphereGeometry(0.25, 8, 6);
        const headMaterial = new THREE.MeshLambertMaterial({ color: 0xffdbac });
        const head = new THREE.Mesh(headGeometry, headMaterial);
        head.position.y = 1.4;
        characterGroup.add(head);
        
        scene.add(characterGroup);
        
        // Create ground
        const groundGeometry = new THREE.PlaneGeometry(50, 50);
        const groundMaterial = new THREE.MeshLambertMaterial({ color: 0x2c3e50 });
        const ground = new THREE.Mesh(groundGeometry, groundMaterial);
        ground.rotation.x = -Math.PI / 2;
        scene.add(ground);
        
        // Create a simple portal
        const portalGeometry = new THREE.TorusGeometry(2, 0.3, 8, 32);
        const portalMaterial = new THREE.MeshBasicMaterial({ 
            color: 0x00ffff,
            transparent: true,
            opacity: 0.8
        });
        const portal = new THREE.Mesh(portalGeometry, portalMaterial);
        portal.position.set(0, 2, -20);
        scene.add(portal);
        
        // Animation
        function animate() {
            requestAnimationFrame(animate);
            
            // Rotate character
            characterGroup.rotation.y += 0.01;
            
            // Rotate portal
            portal.rotation.y += 0.02;
            
            renderer.render(scene, camera);
        }
        
        animate();
        
        console.log('Simple test running!');
    </script>
</body>
</html>
